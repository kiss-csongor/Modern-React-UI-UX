# Alap image: Node.js 22.11.0
FROM node:22.11.0 AS build

# Munka könyvtár beállítása
WORKDIR /app

# NPM csomagok telepítése
# Másold a react mappában lévő package.json és package-lock.json fájlokat
COPY react/package.json react/package-lock.json ./ 

# NPM csomagok telepítése
RUN npm install

# A React alkalmazás forráskódjának másolása
COPY react/ /app/

# React alkalmazás építése
RUN npm run build

# Később a build fájlokat fogjuk kiszolgálni a Nginx konténerből